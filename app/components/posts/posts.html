<style>
    .help-block {
        color: red;
    }

    button:disabled {
        color: black;
        background-color: lightgray;
    }

    .postDiv {
        border: blueviolet;
        border-width: thin;
        background-color: rgb(245, 250, 255);
        margin-top: 10px;
        margin-left: 15px;
        margin-right: 15px;
        padding: 7px 5px 1px 16px;
    }

    .allPosts {
        height: 200px;
        overflow: auto;
        float: left;
        width: 97%;
    }

    .createForm {
        padding-left: 23%;
    }
</style>
<h2 class="heading">Posts</h2>

<link href="../../../assests/css/toastr.css" rel="stylesheet" />
<link href="../../../assests/css/toastr.css" rel="stylesheet" />
<script src="../../../assests/libs/toastr.js"></script>
<div class="createForm">
    <h2>Create New Post</h2>
    <div>
        <form class="form-group" name="myForm" style="width:50%" novalidate>
            <div class="row">
                <div class="col-lg-3">UserId</div>
                <div class="col-lg-5">
                    <!--<input type="text" name="name" ng-model="post.UserId" required />-->
                    <!--<select  ng-model="post.UserId" ng-options="user in postUsers" value="{{user.name}}></select>-->


                    <select class="form-control" ng-model="post.UserId">
                        <option ng-repeat="user in postUsers" value="{{user.Id}}">{{user.name}}</option>
                    </select>
                </div>
                <div class="col-lg-4">
                    <div ng-show="myForm.$submitted || myForm.name.$touched">
                        <p ng-show="myForm.name.$error.required" class="help-block">User Id is required.</p>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-3">Title</div>
                <div class="col-lg-5">
                    <input class="form-control" type="text" name="title" ng-model="post.Title" placeholder="Title" required />

                </div>
                <div class="col-lg-4">
                    <div ng-show="myForm.$submitted || myForm.title.$touched">
                        <p ng-show="myForm.title.$error.required" class="help-block">Title is required.</p>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-3">Body</div>
                <div class="col-lg-5">
                    <textarea class="form-control" rows="3" placeholder="Post" name="postBody" ng-model="post.body" ng-required="string" required ></textarea>

                </div>
                {{myForm.postBody.$touched}}{{myForm.postBody.$valid}}
                <div class="col-lg-4">
                    <div ng-show="myForm.$submitted || myForm.postBody.$touched">
                        <p ng-show="myForm.postBody.$error.required" class="help-block">Body is required.</p>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-3"></div>
                <div class="col-lg-3">
                    <button class="btn btn-primary" type="submit" ng-click="savePost(myForm)"> Save Post</button>
                </div>
            </div>
        </form>
    </div>

    <!--<p>The input's valid state is:</p>
    <h1>{{myForm.$valid}}</h1>-->
</div>


<span ng-show="!postCtrl.posts">
    <img src="../../../assests/img/loading.gif" width="80px" height="80px" />
</span>
<div ng-show="postCtrl.posts">
    <div class="allPosts">
        <div class="postDiv" ng-repeat="post in filtered = (postCtrl.posts | filter: {userId:urlUserId}) ">
            <strong>
 UserId
            </strong>
            :
            <b>{{ postCtrl.getUserName( post.userId) }}</b>
            <br />

            <strong>
                Title
            </strong>
            : {{ post.title }}
            <br />

            <strong>
                Body
            </strong>
            : {{ post.body }}
            <br />
            <br />
        </div>
    </div>

    <h3>Showing <strong>{{  filtered.length }} </strong>  Posts </h3>

</div>